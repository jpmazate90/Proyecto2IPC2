CREATE SCHEMA HOTEL;
USE HOTEL;

CREATE TABLE USUARIO(
Usuario VARCHAR(30) NOT NULL,
Contraseña VARCHAR(30) NOT NULL,
Nombre VARCHAR(30) NOT NULL,
Apellido VARCHAR(30) NOT NULL,
Tipo_Usuario VARCHAR(30) NOT NULL,
CONSTRAINT PK_USUARIO PRIMARY KEY(Usuario));

CREATE TABLE HABITACION(
Id INT NOT NULL AUTO_INCREMENT,
Tipo_Habitacion VARCHAR(30) NOT NULL,
Nivel INT NOT NULL,
Precio INT NOT NULL,
CONSTRAINT PK_HABITACION PRIMARY KEY(Id));

CREATE TABLE CLIENTE(
Dpi VARCHAR(15) NOT NULL,
Nombre VARCHAR(30) NOT NULL,
Apellido VARCHAR(30) NOT NULL,
Nit VARCHAR(15) NOT NULL,
CONSTRAINT PK_CLIENTE PRIMARY KEY(Dpi));

CREATE TABLE MENU(
Nombre_Comida VARCHAR(30) NOT NULL,
Tipo_Comida VARCHAR(30) NOT NULL,
Precio INT NOT NULL,
CONSTRAINT PK_MENU PRIMARY KEY(Nombre_Comida));


CREATE TABLE RESERVACION(
Id INT NOT NULL AUTO_INCREMENT,
Dpi_Cliente VARCHAR(15) NOT NULL,
Id_Habitacion INT NOT NULL,
Fecha_Entrada DATE NOT NULL,
Fecha_Salida DATE NOT NULL,
Precio INT NOT NULL,
Check_In TINYINT(1),
CONSTRAINT PK_RESERVACION PRIMARY KEY(Id),
CONSTRAINT FK_CLIENTE_IN_DPI_CLIENTE FOREIGN KEY(Dpi_Cliente) REFERENCES CLIENTE(Dpi),
CONSTRAINT FK_HABITACION_IN_ID_HABITACION FOREIGN KEY(Id_Habitacion) REFERENCES HABITACION(Id));

CREATE TABLE ALOJAMIENTO(
Id INT NOT NULL AUTO_INCREMENT,
Id_Reservacion INT NOT NULL,
Check_Out TINYINT(1),
CONSTRAINT PK_ALOJAMIENTO PRIMARY KEY(Id),
CONSTRAINT FK_RESERVACION_IN_ID_RESERVACION FOREIGN KEY(Id_Reservacion) REFERENCES RESERVACION(Id));

CREATE TABLE CONSUMO_RESTAURANTE(
Id_Consumo INT NOT NULL AUTO_INCREMENT,
Id_Alojamiento INT NOT NULL,
Nombre_Comida VARCHAR(30) NOT NULL,
Precio_Comida INT NOT NULL,
Cantidad INT NOT NULL,
Fecha_Consumo DATE NOT NULL,
CONSTRAINT PK_CONSUMO_RESTAURANTE PRIMARY KEY(Id_Consumo),
CONSTRAINT FK_ALOJAMIENTO_IN_ID_ALOJAMIENTO FOREIGN KEY(Id_Alojamiento) REFERENCES ALOJAMIENTO(Id),
CONSTRAINT FK_MENU_IN_NOMBRE_COMIDA FOREIGN KEY(Nombre_Comida) REFERENCES MENU(Nombre_Comida));

INSERT INTO USUARIO(Usuario,Contraseña,Nombre,Apellido,Tipo_Usuario) VALUES ('admin','1','admin','admin','GERENTE');

INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Junior',1,200);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Junior',1,200);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Master',1,300);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion De Lujo',1,400);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Junior',2,200);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Junior',2,200);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Master',2,300);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion De Lujo',2,400);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Junior',3,200);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Junior',3,200);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Master',3,300);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion De Lujo',3,400);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Junior',4,200);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Junior',4,200);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion Master',4,300);
INSERT INTO HABITACION(Tipo_Habitacion,Nivel,Precio) VALUES('Habitacion De Lujo',4,400);
